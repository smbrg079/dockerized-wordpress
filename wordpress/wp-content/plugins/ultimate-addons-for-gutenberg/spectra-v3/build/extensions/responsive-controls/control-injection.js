(()=>{"use strict";var e={2619:e=>{e.exports=window.wp.hooks},3168:(e,t,o)=>{o.d(t,{Ap:()=>i,Eo:()=>p,I_:()=>g,Jh:()=>k,K8:()=>c,ND:()=>l,QH:()=>v,Sj:()=>w,T$:()=>r,Vp:()=>d,ZR:()=>b,eM:()=>h,jM:()=>S,jd:()=>u,om:()=>y,qo:()=>C,s_:()=>m,u5:()=>n,vn:()=>a,zE:()=>f});var s=o(2619);const r=1,n=(0,s.applyFilters)("spectra.excludedResponsiveControlsBlocks",[]),i=(0,s.applyFilters)("spectra.supportedResponsiveControlsBlocks",["core/image"]),c=["spectra/","spectra-pro/"],l="Mobile",a="Tablet",d="Desktop",u={[l]:["sm","md","lg"],[a]:["md","lg"],[d]:["lg"]},h=Object.freeze(["style","layout","fontSize","fontFamily","borderColor"]),p=Object.freeze(["spacing","border","typography","shadow","layout"]),b=Object.freeze(["style.spacing.padding","style.spacing.margin","style.spacing.blockGap","style.border.top","style.border.right","style.border.bottom","style.border.left","style.border.width","style.border.color","style.border.style","style.border.radius","style.border.radius.topLeft","style.border.radius.topRight","style.border.radius.bottomLeft","style.border.radius.bottomRight","style.typography","style.shadow","style.layout","layout","fontSize","fontFamily","borderColor"]),y=Object.freeze(["type","media","useOverlay","backgroundSize","backgroundWidth","backgroundRepeat","backgroundPosition","backgroundAttachment","positionMode","positionCentered","positionX","positionY"]),m=Object.freeze({[l]:"sm",[a]:"md",[d]:"lg"}),f=[["fontSize","style.typography.fontSize"],["borderColor","style.border.color"]],g=Object.freeze({"spectra/container":["minWidth","minHeight","maxWidth","maxHeight","width","height","background","overlayType","overlayImage","overlayPosition","overlayPositionMode","overlayPositionCentered","overlayPositionX","overlayPositionY","overlayAttachment","overlayRepeat","overlaySize","overlayCustomWidth","overlayBlendMode","overlayOpacity","orientationReverse"],"spectra/google-map":["height"],"spectra/content":["enableTextShadow","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],"spectra/button":["size","gap"],"spectra/buttons":[],"spectra/icon":["size"],"spectra/icons":[],"spectra/accordion":["size"],"spectra/accordion-child-header-icon":["size"],"spectra/tabs":["size"],"spectra/tabs-child-tab-button":["size","gap"],"spectra/countdown":["minWidth","minHeight","maxWidth","maxHeight","width","height"],"spectra/list":["iconSize"],"spectra/list-child-icon":["iconSize"],"spectra/slider":["sliderHeight","arrowDistance","navigationSize","navigationIconSize","paginationTopMargin","background","slidesPerView","spaceBetween"],"spectra/slider-child":["background"],"spectra/separator":["separatorWidth","separatorHeight","separatorSize"],"spectra/modal-child-button":["size","gap"],"spectra/modal-child-icon":["size"],"spectra/modal-child-popup-close-icon":["size"],"spectra/modal-popup-content":["containerWidth","containerHeight","maxContainerHeight","contentHeight","background"],"spectra/popup-builder":["width","height","background"],"spectra/counter":["prefixRightMargin","suffixLeftMargin"],"core/image":["width","height","aspectRatio","scale"]}),v=["spacing","typography","border & shadow","border","shadow","layout","background","dimensions","content","general","flex direction","Overlay Settings","Settings"],w=".components-dropdown-menu__menu",S=".components-menu-item__button",C=".components-menu-item__item",k=new Set(["reset","reset all"])},3663:(e,t,o)=>{o.d(t,{A:()=>l});var s=o(2619),r=o(7143),n=o(5188),i=o(3168);o(5763);let c=!1;const l=()=>c;(0,s.addFilter)("blocks.registerBlockType","spectra/responsive-controls/add-attributes",n.fc),(0,s.addFilter)("editor.BlockEdit","spectra/responsive-controls/with-responsive-controls",n.RK),(0,s.addFilter)("editor.BlockEdit","spectra/responsive-controls/with-device-view-update",n.Vd,11),{handleClick(e){const t=e.target.closest(i.Sj);if(!t)return;const o=t.getAttribute("aria-label");if(!o)return;const s=o.toLowerCase();if(!i.QH.some((e=>s.includes(e.toLowerCase()))))return;let l=i.Jh.has(e.target.textContent?.trim().toLowerCase()||"");if(!l){const t=e.target.closest(i.jM);if(t){const e=t.querySelectorAll("span");for(const t of e)if(i.Jh.has(t.textContent?.trim().toLowerCase())){l=!0;break}l||(l=(t.getAttribute("aria-label")?.toLowerCase()||"").includes("reset"))}}if(!l&&e.target.classList.contains(i.qo.split(".")[1])&&(l="reset"===(e.target.nextElementSibling?.textContent?.trim().toLowerCase()||"")),!l)return;let a="individual";if("reset all"===(e.target.textContent?.trim().toLowerCase()||""))a="resetAll";else{const t=e.target.closest(i.jM);if(t){const e=t.querySelectorAll("span");for(const t of e)if("reset all"===t.textContent?.trim().toLowerCase()){a="resetAll";break}}}const{getSelectedBlock:d}=(0,r.select)("core/block-editor"),u=d();if(!u||!(0,n.Ww)(u))return;c=!0;const h=(0,r.select)("core/editor")?.getDeviceType?.()||i.Vp,p=i.s_[h]||"lg";requestAnimationFrame((()=>{const e=d();if(!e||!(0,n.Ww)(e))return;const{attributes:t,name:o,clientId:s}=e,{responsiveControls:i={}}=t||{},l=(0,n.RM)(t,o),{updateBlockAttributes:b,__unstableMarkNextChangeAsNotPersistent:y}=(0,r.dispatch)("core/block-editor"),m=(0,n.Go)(i[p]||{}),f=[],g=(e,t,o="")=>{(0,n.Gv)(e)&&Object.keys(e).forEach((s=>{const r=e[s],i=t&&t[s],c=o?`${o}.${s}`:s;if((0,n.Gv)(r)){if((0,n.Gv)(i))g(r,i,c);else if(!(0,n.a4)(i)){f.push(c);const e=(t,o)=>{(0,n.Gv)(t)&&Object.keys(t).forEach((s=>{const r=`${o}.${s}`;f.push(r),(0,n.Gv)(t[s])&&e(t[s],r)}))};e(r,c)}}else(0,n.a4)(r)&&!(0,n.a4)(i)&&f.push(c)}))},v=(0,n.RM)(u.attributes,o);let w;if(g(v,l),"resetAll"===a)w=f;else{const e=f.filter((e=>e.startsWith("style.border.radius")));w=e.length>0?e:f}w.forEach((e=>{(0,n.Rg)(m,e)})),b(s,{responsiveControls:{...i,[p]:m}}),c=!1,requestAnimationFrame((()=>{const e=d();if(!e||!(0,n.Ww)(e))return;if((0,r.select)("core/editor")?.getDeviceType?.()!==h)return;const t=(0,n.RM)(e.attributes,e.name),o=(0,n.yo)(t,e.attributes?.responsiveControls||{},h,e.name);y();const s={...e.attributes,...o};(e.attributes.style||o.style)&&(s.style={...e.attributes.style||{},...o.style||{}}),b(e.clientId,s)}))}))},init(){this.boundHandler=this.handleClick.bind(this),document.addEventListener("click",this.boundHandler,{capture:!0}),this.cleanup=()=>{this.boundHandler&&(document.removeEventListener("click",this.boundHandler,{capture:!0}),this.boundHandler=null)},window.addEventListener("beforeunload",this.cleanup),window.addEventListener("pagehide",this.cleanup),void 0!==window.wp&&window.wp.hooks&&window.wp.hooks.addAction("spectra.cleanup","spectra/responsive-controls",this.cleanup)},boundHandler:null,cleanup:null}.init()},5188:(e,t,o)=>{o.d(t,{Go:()=>d,yo:()=>O,Rg:()=>b,fc:()=>_,RM:()=>x,a4:()=>A,Ww:()=>D,Gv:()=>m,Vd:()=>z,RK:()=>I});const s=window.wp.compose;var r=o(7143);const n=window.wp.element;var i=o(2619),c=o(3168),l=o(3663);const a=window.ReactJSXRuntime,d=e=>"object"!=typeof e||null===e?e:"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e)),u=(e,t)=>{if(e===t)return!0;if(null==e||null==t)return e===t;if(typeof e!=typeof t)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,o)=>u(e,t[o])));if("object"==typeof e&&"object"==typeof t){const o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every((o=>s.includes(o)&&u(e[o],t[o])))}return e===t},h=(e,t,o)=>{if(!e||"string"!=typeof t)return o;const s=t.split(".").reduce(((e,t)=>e&&"object"==typeof e?e[t]:void 0),e);return void 0===s?o:s},p=(e,t,o)=>{if(!e||"string"!=typeof t)return;const s=t.split("."),r=s.pop();s.reduce(((e,t)=>(t in e&&"object"==typeof e[t]&&null!==e[t]||(e[t]={}),e[t])),e)[r]=o},b=(e,t)=>{if(!e||"string"!=typeof t)return!1;const o=t.split("."),s=o.pop(),r=o.reduce(((e,t)=>e&&"object"==typeof e?e[t]:void 0),e);return!(!r||"object"!=typeof r||!(s in r)||(delete r[s],0))},y=(e,t)=>{if(!e||"string"!=typeof t)return!1;const o=t.split(".");let s=e;for(const e of o){if(null==s||"object"!=typeof s)return!1;if(!(e in s))return!1;s=s[e]}return!0},m=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),f=Array.isArray,g=e=>"function"==typeof e,v=e=>void 0===e,w=(e,t)=>{if(!t||!m(t))return e;e&&m(e)&&(!f(e)||f(t))||(e={});for(const o in t)null!==t[o]?f(e[o])&&!f(t[o])||!f(e[o])&&f(t[o])||!t[o]||!m(t[o])||f(t[o])||t[o]instanceof Date?e[o]=t[o]:(e[o]&&m(e[o])||(e[o]={}),w(e[o],t[o])):e[o]=null;return e},S=e=>{if(!e||"object"!=typeof e)return!0;const t=Object.keys(e);return 0===t.length||!t.some((t=>A(e[t])))},C=(e,t)=>{if(e===t)return!1;if("object"!=typeof e||"object"!=typeof t||null===e||null===t)return e!==t;const o=Object.keys(e),s=Object.keys(t),r=o.filter((t=>!v(e[t])&&!g(e[t]))),n=s.filter((e=>!v(t[e])&&!g(t[e])));if(r.length!==n.length)return!0;for(const o of r)if(!y(t,o)||C(e[o],t[o]))return!0;return!1},k=e=>["lg","md","sm"].some((t=>{const o=e[t];return!(!o||"object"!=typeof o)&&(y(o,"style.border.radius.topLeft")||y(o,"style.border.radius.topRight")||y(o,"style.border.radius.bottomLeft")||y(o,"style.border.radius.bottomRight"))})),T=e=>({topLeft:e,topRight:e,bottomLeft:e,bottomRight:e}),L=e=>["lg","md","sm"].some((t=>{const o=e[t];return!(!o||"object"!=typeof o)&&(y(o,"style.border.top")||y(o,"style.border.right")||y(o,"style.border.bottom")||y(o,"style.border.left"))})),j=(e,t=null)=>{const o={};return["top","right","bottom","left"].forEach((s=>{const r={};e.width&&(r.width=e.width),e.style&&(r.style=e.style),e.color?r.color=e.color:t&&(e.width||e.style)&&(t.startsWith("var:preset|color|")?r.color=t:r.color=`var:preset|color|${t}`),Object.keys(r).length>0&&(o[s]=r)})),o},B=(e,t,o=[],s=3)=>(s<=0||!t||"object"!=typeof t||Object.keys(t).forEach((r=>{const n=e?`${e}.${r}`:r;o.push(n),t[r]&&"object"==typeof t[r]&&!Array.isArray(t[r])&&B(n,t[r],o,s-1)})),o),A=e=>!(e=>null==e)(e)&&""!==e&&(!m(e)||(f(e)?e.length>0:Object.keys(e).length>0&&Object.values(e).some((e=>A(e))))),x=(e,t)=>{const o=H(t),s=new Set(o),r={},n=e.style;if(n&&"object"==typeof n){const e={};for(const t of c.Eo)t in n&&("border"===t&&"object"==typeof n.border?e.border=n.border:e[t]=n[t]);Object.keys(e).length>0&&(r.style=e)}for(const[t,o]of Object.entries(e))"style"!==t&&s.has(t)&&(r[t]=o);return r},D=e=>!!e?.name&&!c.u5.includes(e.name)&&(c.K8.some((t=>e.name.startsWith(t)))||c.Ap.includes(e.name));let P=null;const E=()=>{if(P)try{P()}catch(e){}finally{P=null}q.cleanup()};wp.domReady((()=>{new Promise((e=>{const t=(0,r.subscribe)((()=>{(0,r.select)("core/block-editor").getBlockCount()>0&&(t(),e())}))})).then((()=>{"undefined"!=typeof window&&(()=>{if(P)return;if(!r.subscribe||!r.select)return;let e=(0,r.select)("core/editor")?.getDeviceType?.()||c.Vp;const t=setTimeout((()=>{q.processDeviceChange(e)}),0);if(P=(0,r.subscribe)((()=>{const t=(0,r.select)("core/editor")?.getDeviceType?.()||c.Vp;t!==e&&(q.processDeviceChange(t),e=t)})),"undefined"!=typeof window){window.addEventListener("beforeunload",E,{once:!0}),window.addEventListener("pagehide",E,{once:!0});const e=()=>{if(P)try{P()}catch(e){}finally{P=null}q.cleanup()},o=()=>{clearTimeout(t),e()};window.removeEventListener("beforeunload",E),window.removeEventListener("pagehide",E),window.addEventListener("beforeunload",o,{once:!0}),window.addEventListener("pagehide",o,{once:!0})}})()}))}));const H=(e,t=!1)=>{if(!e)return t?[]:c.eM;let o=c.I_[e]||[];return o=(0,i.applyFilters)("spectra.responsive-controls.block-responsive-keys",o,e),t?o:[...c.eM,...o]},_=(e,t)=>D({name:t})?{...e,attributes:{...e.attributes,responsiveControls:{type:"object",default:{}},spectraId:{type:"string"}}}:e,O=(e,t,o,s)=>{const r=d(e);let n=(e=>{if(!k(e))return e;const t=d(e);return["lg","md","sm"].forEach((e=>{const o=t[e];if(o&&"object"==typeof o&&y(o,"style.border.radius")&&"object"!=typeof o.style.border.radius){const s=o.style.border.radius,r=T(s);b(t,`${e}.style.border.radius`),p(t,`${e}.style.border.radius`,r)}})),t})(t);if(k(t)&&y(r,"style.border.radius")&&"object"!=typeof r.style.border.radius){const e=r.style.border.radius,t=T(e);p(r,"style.border.radius",t)}if(n=(e=>{if(!L(e))return e;const t=d(e);return["lg","md","sm"].forEach((e=>{const o=t[e];if(o&&"object"==typeof o&&(y(o,"style.border.width")||y(o,"style.border.style")||y(o,"style.border.color")||A(o?.borderColor))){const s={};y(o,"style.border.width")&&(s.width=o.style.border.width),y(o,"style.border.style")&&(s.style=o.style.border.style),y(o,"style.border.color")&&(s.color=o.style.border.color);const r=t[e]?.borderColor||null,n=j(s,r);b(t,`${e}.style.border.width`),b(t,`${e}.style.border.style`),b(t,`${e}.style.border.color`),Object.keys(n).forEach((o=>{p(t,`${e}.style.border.${o}`,n[o])})),r&&y(t[e],"borderColor")&&delete t[e].borderColor}})),t})(n),L(t)&&(y(r,"style.border.width")||y(r,"style.border.style")||y(r,"style.border.color")||A(r.borderColor))){const e={};y(r,"style.border.width")&&(e.width=r.style.border.width),y(r,"style.border.style")&&(e.style=r.style.border.style),y(r,"style.border.color")&&(e.color=r.style.border.color);const t=r?.borderColor||null,o=j(e,t);b(r,"style.border.width"),b(r,"style.border.style"),b(r,"style.border.color"),Object.keys(o).forEach((e=>{p(r,`style.border.${e}`,o[e])})),t&&y(r,"borderColor")&&delete r.borderColor}const i=H(s,!0),l=[...i,...c.ZR],a=i.includes("background");a&&c.om.forEach((e=>{l.push(`background.${e}`)}));const u=c.jd[o]||["lg"],m=u[0],f=n[m]||{},g={};l.forEach((e=>{if(y(f,e)){const t=h(f,e);if(A(t))return void p(g,e,t)}if("background.media"===e&&a){const t=h(f,"background.type");for(const o of u.slice(1)){const s=h(n[o]||{},"background.type"),r=h(n[o]||{},e);if(A(r)&&(!A(t)||t===s)){p(g,e,r);break}}}else for(const t of u.slice(1)){const o=h(n[t]||{},e);if(A(o)){p(g,e,o);break}}}));const v=[];c.eM.forEach((e=>{"style"===e?c.Eo.forEach((e=>{v.push(`style.${e}`)})):v.push(e)})),i.forEach((e=>{v.includes(e)||v.push(e),"background"===e&&a&&c.om.forEach((e=>{v.push(`background.${e}`)}))})),((e,t,o)=>{const s=[];o.forEach((t=>{s.push(t);const o=h(e,t);o&&"object"==typeof o&&!Array.isArray(o)&&B(t,o,s)})),s.forEach((o=>{const s=h(e,o),r=h(t,o);A(s)&&!A(r)&&p(t,o,void 0)}))})(r,g,v),w(r,g);const S=h(r,"style.border")||{};if(A(S.width)&&Number.parseInt(S.width,10)>0&&"none"===S.style&&p(r,"style.border.style",void 0),c.zE.forEach((([e,t])=>{const o=r[e],s=h(r,t),n=y(f,e),i=y(f,t);A(o)&&A(s)?n?p(r,t,void 0):i?r[e]=void 0:p(r,t,void 0):!A(o)||A(s)||i||p(r,t,void 0)})),y(r,"layout")){const e=h(r,"layout")||{};!Object.values(e).some((e=>A(e)))&&(r.layout=void 0)}const C=h(r,"style.border.top.color"),x=h(r,"style.border.right.color"),D=h(r,"style.border.bottom.color"),P=h(r,"style.border.left.color");return(A(C)||A(x)||A(D)||A(P))&&A(C)&&A(x)&&A(D)&&A(P)&&C===x&&x===D&&D===P&&(r.style.border||(r.style.border={}),r.style.border.color=C,y(r,"borderColor")&&(r.borderColor=void 0)),r},I=(0,s.createHigherOrderComponent)((e=>t=>{const{attributes:o,setAttributes:s,name:i}=t,{responsiveControls:u={},spectraId:h}=o;if(!D({name:i}))return(0,a.jsx)(e,{...t});(0,n.useEffect)((()=>{if(!h){const e=Date.now().toString(36),t=Math.random().toString(36).substring(2,8);s({spectraId:`spectra-${e}-${t}`})}}),[]);const p=(0,r.useSelect)((e=>e("core/editor")?.getDeviceType?.()||c.Vp),[]),m=(0,n.useMemo)((()=>(e=>c.s_[e]||"lg")(p)),[p]),f="object"!=typeof u[m]||null===u[m]||Array.isArray(u[m])?{}:u[m],g=(0,n.useCallback)((e=>{if((0,l.A)())return void s(e);const t=x(e,i);if(0===Object.keys(t).length)return void s(e);const o=Array.isArray(f)?{}:d(f);var r,n;r=o,n=t,c.zE.forEach((([e,t])=>{const o=y(n,e),s=y(n,t);if(y(n,"layout")&&y(r,"layout")&&n.layout!==r.layout&&b(r,"layout"),y(n,"style")&&y(n,"style.spacing")&&(y(r,"style.spacing.padding")&&!y(n,"style.spacing.padding")&&b(r,"style.spacing.padding"),y(r,"style.spacing.margin")&&!y(n,"style.spacing.margin")&&b(r,"style.spacing.margin"),y(r,"style.spacing.blockGap")&&!y(n,"style.spacing.blockGap")&&b(r,"style.spacing.blockGap")),y(n,"style.border.width")&&Number.parseInt(n.style.border.width,10)>0&&y(r,"style.border.style")&&"none"===r.style.border.style&&b(r,"style.border.style"),y(n,"style.border")){const e=y(n,"style.border.width")||y(n,"style.border.style")||y(n,"style.border.color")||A(n?.borderColor),t=y(n,"style.border.top")||y(n,"style.border.right")||y(n,"style.border.bottom")||y(n,"style.border.left");e&&y(r,"style.border")?(b(r,"style.border.top"),b(r,"style.border.right"),b(r,"style.border.bottom"),b(r,"style.border.left")):t&&y(r,"style.border")&&(b(r,"style.border.width"),b(r,"style.border.style"),b(r,"style.border.color"),y(r,"borderColor")&&delete r.borderColor)}o?(b(r,t),"borderColor"===e&&void 0===n.borderColor&&!y(n,"style.border")&&y(r,"style.border")&&b(r,"style.border")):s&&delete r[e]})),w(o,t);const a=C(f,o);s(a?{...e,responsiveControls:{...u,[m]:o}}:e)}),[m,u,f,i,s]);return(0,a.jsx)(e,{...t,setAttributes:g})}),"withResponsiveControls"),q={updateQueue:new Map,isProcessing:!1,currentDevice:null,processingTimeouts:new Set,register(e,t){if(this.updateQueue.size>1e3){const e=Array.from(this.updateQueue.keys());for(let t=0;t<200;t++)this.updateQueue.delete(e[t])}this.updateQueue.set(e,{clientId:e,updateFn:t})},unregister(e){this.updateQueue.delete(e)},cancelPendingProcessing(){this.processingTimeouts.forEach((e=>clearTimeout(e))),this.processingTimeouts.clear(),this.isProcessing=!1},cleanup(){this.cancelPendingProcessing(),this.updateQueue.clear(),this.currentDevice=null},processDeviceChange(e){if(this.isProcessing&&this.currentDevice!==e&&this.cancelPendingProcessing(),this.currentDevice===e)return;this.cancelPendingProcessing(),this.isProcessing=!0,this.currentDevice=e;const t=c.T$,o=Array.from(this.updateQueue.values());let s=0;const r=()=>{if(this.currentDevice!==e)return;const n=Math.min(s+t,o.length);for(let t=s;t<n;t++){const{updateFn:s}=o[t];if(s)try{s(e)}catch(e){}}if(s=n,s<o.length){const e=setTimeout(r,1);this.processingTimeouts.add(e)}else this.isProcessing=!1,this.processingTimeouts.clear()};r()}},z=(0,s.createHigherOrderComponent)((e=>t=>{const{attributes:o,name:s,clientId:i}=t,{responsiveControls:l={}}=o,{__unstableMarkNextChangeAsNotPersistent:d,updateBlockAttributes:h}=(0,r.useDispatch)("core/block-editor");if(!D({name:s}))return(0,a.jsx)(e,{...t});const p=(0,n.useRef)(c.Vp);(0,n.useEffect)((()=>{if("spectra/container"===s&&!o?.variationSelected){const e=(0,r.select)("core/block-editor").getBlockParents(i);if(Array.isArray(e)&&e.length>0){const t=(0,r.select)("core/block-editor").getBlock;for(const o of e){const e=t(o);if("spectra/container"===e?.name&&e?.attributes?.variationSelected){d(),h(i,{variationSelected:!0});break}}}}}),[]);const b=(0,n.useRef)(o),y=(0,n.useRef)(l);b.current=o,y.current=l;const m=(0,n.useCallback)((e=>{const t=b.current,o=y.current;if(0===Object.keys(o).length)return void(p.current=e);const r=x(t,s),n=p.current,l=e;if(0===Object.keys(r).length)return void(p.current=l);if(function(e,t,o){const s=o?.lg,r=o?.md,n=o?.sm;return!!(e===c.Vp&&t===c.vn&&S(r)||e===c.vn&&t===c.ND&&S(n)||e===c.vn&&t===c.Vp&&S(s)&&S(r)||e===c.ND&&t===c.vn&&S(n)&&S(r))}(n,l,o))return void(p.current=l);const a=O(r,o,l,s);if(!((e,t)=>{if(e===t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!0;for(const s of o){const o=e[s],r=t[s],n=!g(o)&&!v(o);if(n!==(!g(r)&&!v(r)))return!0;if(n&&!u(o,r))return!0}return!1})(r,a))return void(p.current=l);d();const m={...t,...a};(t.style||a.style)&&(m.style={...t.style||{},...a.style||{}}),h(i,m),p.current=l}),[s,i,d,h]);return(0,n.useEffect)((()=>{const e=(0,r.select)("core/editor")?.getDeviceType?.()||c.Vp;return p.current=e,q.register(i,m),()=>{q.unregister(i)}}),[i,m]),(0,a.jsx)(e,{...t})}),"withDeviceViewUpdate")},5763:(e,t,o)=>{const s=window.wp.i18n;var r=o(7143),n=o(3168),i=o(5188);const c=Object.freeze({[n.Vp]:{label:(0,s.__)("Desktop","ultimate-addons-for-gutenberg"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-monitor-icon lucide-monitor"><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/></svg>'},[n.vn]:{label:(0,s.__)("Tablet","ultimate-addons-for-gutenberg"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tablet-icon lucide-tablet"><rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><line x1="12" x2="12.01" y1="18" y2="18"/></svg>'},[n.ND]:{label:(0,s.__)("Mobile","ultimate-addons-for-gutenberg"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-smartphone-icon lucide-smartphone"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>'}}),l=Object.freeze(["Spacing","Typography","Border & Shadow","Border","Shadow","Layout","Background","Dimensions","Content","Overlay Settings","Flex Direction","Settings"]),a=Object.freeze({"spectra/slider":Object.freeze(["general"])});class d{constructor(){this.currentDevice=(0,r.select)("core/editor")?.getDeviceType?.()||n.Vp,this.observer=null,this.tabState=this.getTabStateFromStorage(),this.lastClickedPosition=null,this.injectionTimeout=null,this.intersectionObserver=null,this.isBlockStabilizing=!1,this.tabSwitchTimeout=null,this.selectors=Object.freeze({inspector:".block-editor-block-inspector",sidebar:".interface-complementary-area.editor-sidebar",toolsPanel:".editor-sidebar .components-tools-panel",panelBody:".editor-sidebar .components-panel__body",toolsPanelItem:".editor-sidebar .components-tools-panel-item",responsiveIcons:".editor-sidebar .spectra-responsive-icons",enhancedControl:".editor-sidebar .spectra-enhanced-control",excludedControl:".editor-sidebar .spectra-excluded-control",tabs:".editor-sidebar .block-editor-block-inspector__tabs",tabButton:' [role="tab"]',activeTab:'.editor-sidebar .block-editor-block-inspector__tabs [aria-selected="true"]'}),this.debouncedInject=this.debounce((()=>{this.injectDeviceButtons()}),50),this.immediateInject=()=>{this.injectDeviceButtons()},this.domCache=new Map,this.maxCacheSize=50,this.cachedScrollContainer=null,this.lastImageAttributes={},this.maxImageAttributesCacheSize=10,this.init()}debounce(e,t){let o;const s=function(...s){clearTimeout(o),o=setTimeout((()=>{clearTimeout(o),e(...s)}),t)};return s.cancel=()=>{clearTimeout(o)},s}init(){this.waitForEditor().then((()=>{try{this.setupDeviceListener(),this.setupTabObserver(),this.setupPanelClickHandler(),this.immediateInject(),this.startObserver()}catch(e){this.destroy()}})).catch((()=>{}))}getScrollableContainer(){if(this.cachedScrollContainer&&this.cachedScrollContainer.isConnected)return this.cachedScrollContainer;const e=document.querySelector(this.selectors.sidebar);if(e)return this.cachedScrollContainer=e,e;const t=document.querySelector(this.selectors.inspector);return t?(this.cachedScrollContainer=t,t):null}async waitForEditor(){return new Promise((e=>{const t=()=>{(0,r.select)("core/editor")&&this.getScrollableContainer()?e():requestAnimationFrame(t)};t()}))}isBlockInStabilizingState(e){if(!e||"spectra/container"!==e.name)return!1;const t=e.attributes;return!(Object.keys(t).length>3||t.htmlTag||t.background||t.responsiveControls)}isPanelVisible(e){if(!e)return!1;if(e.offsetHeight>0&&null!==e.offsetParent)return!0;const t=e.closest('[role="tabpanel"]');return!!t&&(!("true"===t.getAttribute("aria-hidden"))||e.classList.contains("components-tools-panel")||e.classList.contains("components-panel__body"))}startObserver(){const e=document.querySelector(this.selectors.inspector)||document.body,t=[];let o=null;const s=function(){let e=!1;for(const o of t){if("attributes"===o.type&&!e){const t=o.target;t.nodeType!==Node.ELEMENT_NODE||!t.classList?.contains("components-tools-panel-item")&&!t.closest?.(".components-tools-panel-item")||t.querySelector(".spectra-responsive-icons")||(e=!0)}if("childList"===o.type&&!e){const t=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if("core/image"===t?.name)for(const t of o.addedNodes)if(t.nodeType===Node.ELEMENT_NODE&&(t.classList?.contains("components-tools-panel-item")||t.querySelector?.(".components-tools-panel-item"))){e=!0;break}}if(e)break}if(t.length=0,o=null,e){const e=(0,r.select)("core/block-editor")?.getSelectedBlock?.();(0,i.Ww)(e),this.debouncedInject()}}.bind(this);this.observer=new MutationObserver((e=>{t.push(...e),t.length>10&&t.splice(0,t.length-10),o&&clearTimeout(o),o=setTimeout(s,100)})),this.observer.observe(e,{subtree:!0,childList:!0,attributes:!0,childList:!0,attributeFilter:["class","style"]})}isRelevantNode(e){return e.classList?.contains("components-tools-panel-item")||e.classList?.contains("components-tools-panel__item")||e.querySelector?.(".components-tools-panel-item")||e.querySelector?.(".components-tools-panel__item")}instantInjectPanels(){const e=this.getScrollableContainer();if(!e)return;const t=e.querySelectorAll(`${this.selectors.toolsPanel}, ${this.selectors.panelBody}`);let o=0;for(let e=0;e<t.length&&o<2;e++){const s=t[e];if(this.panelHasResponsiveControls(s)&&!this.hasDeviceButtons(s)&&this.isPanelVisible(s)){if(s.classList.contains("components-tools-panel")){const e=s.querySelector(".components-tools-panel-header h2");if(e&&!e.querySelector(".spectra-responsive-icons")){const t=document.createElement("span");t.className="spectra-responsive-icons spectra-panel-responsive-icons",t.innerHTML=this.createDeviceButtonsHTML(),e.appendChild(t),s.classList.add("spectra-enhanced-panel"),this.attachDeviceButtonHandlers(t);const o=this.createHelpTextHTML();if(o){const e=s.querySelector(".components-tools-panel-header");e&&e.insertAdjacentHTML("afterend",o)}}}else if(s.classList.contains("components-panel__body")){const e=s.querySelector(".components-panel__body-title button");if(e&&!e.querySelector(".spectra-responsive-icons")){const t=document.createElement("span");t.className="spectra-responsive-icons spectra-panel-responsive-icons",t.innerHTML=this.createDeviceButtonsHTML(),e.appendChild(t),s.classList.add("spectra-enhanced-panel"),this.attachDeviceButtonHandlers(t)}}o++}}}maintainPanelStates(){let e=!1;const t=(0,r.select)("core/block-editor").getSelectedBlock(),o=document.querySelectorAll(this.selectors.toolsPanelItem),s=[];for(const r of o){const o=r.closest(`${this.selectors.toolsPanel}, ${this.selectors.panelBody}`);if(!o||!this.panelHasResponsiveControls(o,t))continue;const n=this.shouldApplyControlClasses(r,t),i=r.classList.contains("spectra-enhanced-control"),c=r.classList.contains("spectra-excluded-control");if(n){const o=this.isResponsiveControl(r,t);o&&!i?(s.push({control:r,action:"enhance"}),e=!0):o||c||s.push({control:r,action:"exclude"})}}s.length>0&&requestAnimationFrame((()=>{for(const{control:e,action:t}of s)"enhance"===t&&(e.classList.add("spectra-enhanced-control"),e.classList.remove("spectra-excluded-control"));e&&this.updateButtonStates()})),this.updatePanelBodies()}updatePanelBodies(){const e=document.querySelectorAll(this.selectors.panelBody),t=[];for(const o of e)this.panelHasResponsiveControls(o)&&(o.classList.contains("spectra-enhanced-panel")||t.push({panel:o,action:"addClass"}),this.hasDeviceButtons(o)||t.push({panel:o,action:"addButtons"}));t.length>0&&requestAnimationFrame((()=>{for(const{panel:e,action:o}of t)"addClass"===o?e.classList.add("spectra-enhanced-panel"):"addButtons"===o&&this.addDeviceButtonsToPanelBody(e)}))}setupDeviceListener(){let e=null;this.unsubscribe=(0,r.subscribe)((()=>{const t=(0,r.select)("core/editor"),o=(0,r.select)("core/block-editor"),s=t?.getDeviceType?.()||n.Vp,c=o?.getSelectedBlock?.(),l=c?.clientId||null;if("core/image"===c?.name){const{aspectRatio:e,width:t,height:o}=c.attributes||{},s={aspectRatio:e,width:t,height:o},r=this.lastImageAttributes[c.clientId]||{};if(e!==r.aspectRatio||t!==r.width||o!==r.height){const e=Object.keys(this.lastImageAttributes);if(e.length>=this.maxImageAttributesCacheSize){const t=e.slice(-5),o={};t.forEach((e=>{o[e]=this.lastImageAttributes[e]})),this.lastImageAttributes=o}this.lastImageAttributes[c.clientId]=s,setTimeout((()=>{this.immediateInject()}),100)}}s!==this.currentDevice&&(this.currentDevice=s,this.updateButtonStates(),requestAnimationFrame((()=>{this.debouncedInject(),this.restoreTabState(),this.restoreScrollPosition()}))),l!==e&&(e=l,(0,i.Ww)(c))&&(this.isBlockInStabilizingState(c)?(this.isBlockStabilizing=!0,setTimeout((()=>{const e=(0,r.select)("core/block-editor")?.getSelectedBlock?.();e&&e.clientId===l&&!this.isBlockInStabilizingState(e)&&(this.isBlockStabilizing=!1,this.instantInjectPanels(),this.immediateInject(),this.updateButtonStates())}),200)):(this.isBlockStabilizing=!1,this.instantInjectPanels(),this.immediateInject(),this.updateButtonStates()))}))}injectDeviceButtons(e=document){try{const t=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(!(0,i.Ww)(t))return;if(this.isBlockStabilizing||this.isBlockInStabilizingState(t))return;const o=e===document?document.querySelector(this.selectors.inspector)||document:e,s=Array.from(o.querySelectorAll(this.selectors.toolsPanel)),n=Array.from(o.querySelectorAll(this.selectors.panelBody)),c=Array.from(o.querySelectorAll(this.selectors.toolsPanelItem));requestAnimationFrame((()=>{try{for(const e of s)this.panelHasResponsiveControls(e,t)&&!this.hasDeviceButtons(e)&&this.isPanelVisible(e)&&this.addDeviceButtonsToPanel(e);for(const e of n)this.panelHasResponsiveControls(e,t)&&this.isPanelVisible(e)&&(e.classList.contains("spectra-enhanced-panel")||e.classList.add("spectra-enhanced-panel"),this.hasDeviceButtons(e)||this.addDeviceButtonsToPanelBody(e));const e=[];for(const o of c){const s=o.closest(`${this.selectors.toolsPanel}, ${this.selectors.panelBody}`);s&&this.panelHasResponsiveControls(s,t)&&this.shouldApplyControlClasses(o,t)&&(this.isResponsiveControl(o,t)?o.classList.contains("spectra-enhanced-control")||e.push({control:o,type:"enhance"}):o.classList.contains("spectra-excluded-control")||e.push({control:o,type:"exclude"}))}for(const{control:t,type:o}of e)"enhance"===o?(t.classList.add("spectra-enhanced-control"),t.classList.remove("spectra-excluded-control")):(t.classList.add("spectra-excluded-control"),t.classList.remove("spectra-enhanced-control"));this.updateButtonStates()}catch(e){}}))}catch(e){}}shouldApplyControlClasses(e,t=null){const o=e.closest(`${this.selectors.toolsPanel}, ${this.selectors.panelBody}`);return!!o&&("typography"!==this.getPanelTitle(o)&&this.isResponsiveControl(e,t))}isResponsiveControl(e,t=null){if(this.domCache.has(e))return this.domCache.get(e);this.domCache.size>=this.maxCacheSize&&this.domCache.clear();const o=e.closest(`${this.selectors.toolsPanel}, ${this.selectors.panelBody}`);if(!o)return this.domCache.set(e,!1),!1;const s=t||(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(!s)return this.domCache.set(e,!1),!1;const n=[],i=e.getAttribute("aria-label");i&&n.push(i.toLowerCase());const c=e.querySelector("legend");c?.textContent&&n.push(c.textContent.toLowerCase());const l=e.querySelectorAll("label, .components-base-control__label, .components-toggle-control__label");for(const e of l)e.textContent&&n.push(e.textContent.toLowerCase());const a=e.querySelector(".components-base-control__help");a?.textContent&&n.push(a.textContent.toLowerCase());const d=n.join(" "),u=this.getPanelTitle(o);if("spectra/slider"===s.name&&"general"===u){const t=["slides per view","space between slides"].some((e=>d.includes(e)));return this.domCache.set(e,t),t}return"core/image"===s.name&&"settings"===u?["Aspect ratio","Width","Height","Scale"].some((e=>d.includes(e.toLowerCase()))):this.panelHasResponsiveControls(o,s)?(this.domCache.set(e,!0),!0):(this.domCache.set(e,!1),!1)}getPanelTitle(e){if(this.domCache.has(e)){const t=this.domCache.get(e);if(void 0!==t?.title)return t.title}this.domCache.size>=this.maxCacheSize&&this.domCache.clear();let t="";if(e.classList.contains("components-tools-panel")){const o=e.querySelector("h2");t=o?.textContent?.trim()?.toLowerCase()||""}else if(e.classList.contains("components-panel__body")){const o=e.querySelector(".components-panel__body-title button");t=o?.textContent?.trim()?.toLowerCase()||""}const o=this.domCache.get(e)||{};return o.title=t,this.domCache.set(e,o),t}panelHasResponsiveControls(e,t=null){const o=this.getPanelTitle(e);if(l.some((e=>o===e.toLowerCase())))return!0;const s=t||(0,r.select)("core/block-editor").getSelectedBlock();return!(!s||!a[s.name])&&a[s.name].some((e=>o===e.toLowerCase()))}hasDeviceButtons(e){return!!e.querySelector(this.selectors.responsiveIcons)}createDeviceButtonsHTML(){return Object.entries(c).map((([e,t])=>{const o=this.currentDevice===e;return`\n\t\t\t\t\t<button \n\t\t\t\t\t\ttype="button" \n\t\t\t\t\t\tclass="spectra-responsive-icon ${o?"is-active":""}"\n\t\t\t\t\t\tdata-device="${e}"\n\t\t\t\t\t\ttitle="${t.label}"\n\t\t\t\t\t\taria-label="${t.label}"\n\t\t\t\t\t\taria-pressed="${o?"true":"false"}"\n\t\t\t\t\t>\n\t\t\t\t\t\t${t.icon}\n\t\t\t\t\t</button>\n\t\t\t\t`})).join("")}createHelpTextHTML(){let e="";return this.currentDevice===n.vn?e=(0,s.sprintf)(
// Translators: %1$s: The opening bold tag; %2$s: The closing bold tag;
// Translators: %1$s: The opening bold tag; %2$s: The closing bold tag;
(0,s.__)("%1$sNote:%2$s Inherits from Desktop on reset.","ultimate-addons-for-gutenberg"),"<b>","</b>"):this.currentDevice===n.ND&&(e=(0,s.sprintf)(
// Translators: %1$s: The opening bold tag; %2$s: The closing bold tag;
// Translators: %1$s: The opening bold tag; %2$s: The closing bold tag;
(0,s.__)("%1$sNote:%2$s Inherits from Tablet or Desktop on reset.","ultimate-addons-for-gutenberg"),"<b>","</b>")),e?`\n\t\t\t<div class="components-notice is-info spectra-responsive-help-notice" role="status">\n\t\t\t\t<div class="components-notice__content">\n\t\t\t\t\t<p>${e}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`:""}addDeviceButtonsToPanel(e){const t=e.querySelector(".components-tools-panel-header h2");if(!t)return;if(t.querySelector(".spectra-responsive-icons"))return;const o=document.createElement("span");o.className="spectra-responsive-icons spectra-panel-responsive-icons",o.innerHTML=this.createDeviceButtonsHTML(),t.appendChild(o);const s=this.createHelpTextHTML();if(s){const t=e.querySelector(".spectra-responsive-help-notice");t&&t.remove();const o=e.querySelector(".components-tools-panel-header");o&&o.insertAdjacentHTML("afterend",s)}e.classList.add("spectra-enhanced-panel"),this.attachDeviceButtonHandlers(o,e)}addDeviceButtonsToPanelBody(e){const t=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(!(0,i.Ww)(t))return;const o=e.querySelector(".components-panel__body-title button");if(!o)return;if(o.querySelector(".spectra-responsive-icons"))return;const s=document.createElement("span");s.className="spectra-responsive-icons spectra-panel-responsive-icons",s.innerHTML=this.createDeviceButtonsHTML(),o.appendChild(s),e.classList.add("spectra-enhanced-panel"),this.attachDeviceButtonHandlers(s)}attachDeviceButtonHandlers(e){e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();const t=e.target.closest(".spectra-responsive-icon");t&&(this.trackExactScrollPosition(),this.saveCurrentTabState(),this.switchDevice(t.dataset.device))}))}saveCurrentTabState(){const e=document.querySelector(this.selectors.activeTab);if(e){const t=e.getAttribute("aria-label");if(t){const e=t.toLowerCase().includes("style")?"styles":"settings";this.saveTabStateToStorage(e)}}}switchDevice(e){const t=document.querySelectorAll(".components-panel__body.spectra-enhanced-panel"),o=Array.from(t).map((e=>{const t=e.querySelector(".components-panel__body-title button");if(t){const o=Array.from(t.childNodes).find((e=>e.nodeType===Node.TEXT_NODE&&e.textContent.trim()));if(o)return{title:o.textContent.trim(),isOpened:e.classList.contains("is-opened")}}return null})).filter(Boolean),{__experimentalSetPreviewDeviceType:s}=(0,r.dispatch)("core/edit-post");s&&s(e),this.currentDevice=e,this.updateButtonStates(),requestAnimationFrame((()=>{o.forEach((e=>{document.querySelectorAll(".components-panel__body").forEach((t=>{const o=t.querySelector(".components-panel__body-title button");if(o){const s=Array.from(o.childNodes).find((e=>e.nodeType===Node.TEXT_NODE&&e.textContent.trim()));s&&s.textContent.trim()===e.title&&t.classList.add("spectra-enhanced-panel")}}))}))}))}updateButtonStates(){const e=(0,r.select)("core/editor")?.getDeviceType?.()||n.Vp;this.currentDevice=e;const t=document.querySelectorAll(".spectra-responsive-icon");if(0!==t.length)requestAnimationFrame((()=>{t.forEach((e=>{const t=e.dataset.device===this.currentDevice;e.classList.toggle("is-active",t),e.setAttribute("aria-pressed",t?"true":"false")})),this.updateHelpText()}));else{const e=(0,r.select)("core/block-editor")?.getSelectedBlock?.();(0,i.Ww)(e)&&(this.debouncedInject(),setTimeout((()=>{this.updateButtonStates()}),100))}}updateHelpText(){if(!this.getScrollableContainer())return;const e=this.createHelpTextHTML();document.querySelectorAll(".spectra-enhanced-panel").forEach((t=>{const o=t.querySelector(".spectra-responsive-help-notice");if(e){if(o)o.outerHTML=e;else if(t.classList.contains("components-tools-panel")){const o=t.querySelector(".components-tools-panel-header");o&&o.insertAdjacentHTML("afterend",e)}}else o&&o.remove()}))}getTabStateFromStorage(){if(!window.localStorage)return null;try{const e=localStorage.getItem("spectraV3TabState");return e?JSON.parse(e):null}catch(e){return null}}saveTabStateToStorage(e){if(!window.localStorage)return;const t=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(!t)return;const o=this.tabState||{};o[t.name]={activeTab:e,timestamp:Date.now()};try{localStorage.setItem("spectraV3TabState",JSON.stringify(o)),this.tabState=o}catch(e){}}setupTabObserver(){this.boundHandleTabClick=e=>{const t=e.target.closest(`${this.selectors.tabs} ${this.selectors.tabButton}`);if(t){const e=t.getAttribute("aria-label"),o=e?.toLowerCase().includes("style")?"styles":"settings";this.saveTabStateToStorage(o),this.tabSwitchTimeout&&(clearTimeout(this.tabSwitchTimeout),this.tabSwitchTimeout=null),this.tabSwitchTimeout=setTimeout((()=>{this.tabSwitchTimeout=null;const e=(0,r.select)("core/block-editor")?.getSelectedBlock?.();(0,i.Ww)(e)&&!this.isBlockStabilizing&&(this.immediateInject(),this.updateButtonStates())}),50)}},document.addEventListener("click",this.boundHandleTabClick,!0)}restoreTabState(){const e=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(!e||!this.tabState||!this.tabState[e.name])return!1;if(this.isBlockStabilizing||this.isBlockInStabilizingState(e))return!1;const t=this.tabState[e.name].activeTab,o=(e=0)=>{if(e>10)return;const s=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(this.isBlockStabilizing||this.isBlockInStabilizingState(s))return;const n=document.querySelectorAll(`${this.selectors.tabs} ${this.selectors.tabButton}`);if(0!==n.length)for(const e of n){const o=e.getAttribute("aria-label");if("true"!==e.getAttribute("aria-selected")&&o&&("styles"===t&&o.toLowerCase().includes("style")||"settings"===t&&o.toLowerCase().includes("setting"))){e.click();break}}else requestAnimationFrame((()=>o(e+1)))};return requestAnimationFrame((()=>o())),!1}setupPanelClickHandler(){this.boundHandlePanelClick=e=>{const t=e.target.closest(".components-panel__body-toggle");if(!t)return;const o=t.closest(".components-panel__body");o&&this.panelHasResponsiveControls(o)&&(o.classList.add("spectra-enhanced-panel"),requestAnimationFrame((()=>{o.classList.add("spectra-enhanced-panel"),this.hasDeviceButtons(o)||this.addDeviceButtonsToPanelBody(o)})))},document.addEventListener("click",this.boundHandlePanelClick,!0)}trackExactScrollPosition(){const e=this.getScrollableContainer();e&&(this.lastClickedPosition={scrollTop:e.scrollTop,scrollPercentage:e.scrollTop/Math.max(1,e.scrollHeight),containerElement:e,device:this.currentDevice})}restoreScrollPosition(){if(!this.lastClickedPosition)return;const e=this.lastClickedPosition.containerElement?.isConnected?this.lastClickedPosition.containerElement:this.getScrollableContainer();e&&setTimeout((()=>{const t=this.lastClickedPosition.scrollPercentage*Math.max(1,e.scrollHeight);e.scrollTo({top:t,behavior:"smooth"})}),300)}destroy(){this.observer&&(this.observer.disconnect(),this.observer=null),this.lastImageAttributes=null,this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null),this.debouncedInject&&"function"==typeof this.debouncedInject.cancel&&(this.debouncedInject.cancel(),this.debouncedInject=null),this.injectionTimeout&&(clearTimeout(this.injectionTimeout),this.injectionTimeout=null),this.tabSwitchTimeout&&(clearTimeout(this.tabSwitchTimeout),this.tabSwitchTimeout=null),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null),this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),this.boundHandleVisibilityChange&&(document.removeEventListener("visibilitychange",this.boundHandleVisibilityChange),this.boundHandleVisibilityChange=null),this.boundHandleWindowFocus&&(window.removeEventListener("focus",this.boundHandleWindowFocus),this.boundHandleWindowFocus=null),this.boundHandleTabClick&&(document.removeEventListener("click",this.boundHandleTabClick,!0),this.boundHandleTabClick=null),this.boundHandlePanelClick&&(document.removeEventListener("click",this.boundHandlePanelClick,!0),this.boundHandlePanelClick=null),this.domCache.clear(),this.lastClickedPosition=null,this.cachedScrollContainer=null,this.tabState=null,this.isBlockStabilizing=!1,this.tabSwitchTimeout=null}}let u=null;try{u=new d;const e=()=>{u&&(u.destroy(),u=null)};window.addEventListener("beforeunload",e,{once:!0}),window.addEventListener("pagehide",e,{once:!0})}catch(e){}},7143:e=>{e.exports=window.wp.data}},t={};function o(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(5763)})();